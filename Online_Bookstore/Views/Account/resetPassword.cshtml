@{
    Layout = null; // Không dùng layout
    Response.ContentType = "text/html; charset=UTF-8";

    var error = ViewBag.Error;
    var message = ViewBag.Message;
    var token = ViewBag.Token; // token được controller truyền vào
}

<div class="container mt-5" style="max-width:400px;">
    <h3 class="mb-4 text-center">Đặt lại mật khẩu</h3>
    <form asp-action="ResetPassword" method="post">
        <input type="hidden" name="token" value="@token" />
        <div class="form-group mb-3">
            <label>Mật khẩu mới</label>
            <input type="password" name="newPassword" class="form-control" required autofocus />
        </div>
        <div class="form-group mb-3">
            <label>Nhập lại mật khẩu mới</label>
            <input type="password" name="confirmPassword" class="form-control" required />
        </div>
        <button type="submit" class="btn btn-primary w-100">Đặt lại mật khẩu</button>
        <div class="mt-3 text-center">
            <a asp-action="Login">Quay lại đăng nhập</a>
        </div>

        @if (!string.IsNullOrEmpty(error))
        {
            <div class="alert alert-danger mt-3">@error</div>
        }

        @if (!string.IsNullOrEmpty(message))
        {
            <div class="alert alert-success mt-3">@message</div>
        }
    </form>
</div>
